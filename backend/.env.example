# ---------------------------------------------------------
# Entorno general
# ---------------------------------------------------------
APP_NAME=MENTALINK API
APP_ENV=development            # development | staging | production
APP_HOST=0.0.0.0
APP_PORT=8000

# Origins para CORS (React SPA)
BACKEND_CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ---------------------------------------------------------
# Base de datos (PostgreSQL)
# ---------------------------------------------------------
POSTGRES_SERVER=db             # nombre del servicio en docker-compose
POSTGRES_PORT=5432
POSTGRES_DB=mentalink
POSTGRES_USER=mentalink_user
POSTGRES_PASSWORD=supersegura

# URL completa utilizada por SQLAlchemy
DATABASE_URL=postgresql+psycopg2://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_SERVER}:${POSTGRES_PORT}/${POSTGRES_DB}

# ---------------------------------------------------------
# Autenticación y JWT
# ---------------------------------------------------------
JWT_SECRET_KEY=CAMBIA_ESTA_CLAVE_LARGA_Y_SECRETA
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60          # duración token acceso
REFRESH_TOKEN_EXPIRE_DAYS=7             # si implementas refresh tokens

# Roles básicos (para claridad en código)
DEFAULT_ADMIN_EMAIL=admin@mentalink.test
DEFAULT_ADMIN_PASSWORD=Admin123!
DEFAULT_ADMIN_FULL_NAME=Admin MENTALINK

# ---------------------------------------------------------
# IA / Machine Learning
# ---------------------------------------------------------
ML_MODEL_PATH=./models/ml/model.pkl           # ruta a modelo principal
ML_SCALER_PATH=./models/ml/scaler.pkl         # si usas scaler
ML_FEATURE_CONFIG_PATH=./models/ml/features.json
ML_RISK_THRESHOLD_LOW=0.33                    # umbral probabilidad bajo -> medio
ML_RISK_THRESHOLD_HIGH=0.66                   # umbral probabilidad medio -> alto

# SHAP / explicabilidad
SHAP_BACKGROUND_SAMPLES=100                   # n muestras de fondo para SHAP
ENABLE_EXPLAINABILITY=true                    # activar o desactivar explicaciones

# ---------------------------------------------------------
# Ética / privacidad (banderas lógicas)
# ---------------------------------------------------------
STORE_FREE_TEXT=false                         # evitar texto libre sensible
ANONYMIZE_EXPORTS=true                        # anonimizar cuando se exportan datos
ALLOW_DATA_WITHDRAWAL=true                    # respetar derecho de retiro

# ---------------------------------------------------------
# Correos / notificaciones (opcional)
# ---------------------------------------------------------
EMAIL_ENABLED=false
EMAIL_FROM=notificaciones@mentalink.test
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=mentalink
SMTP_PASSWORD=password
SMTP_TLS=true

# ---------------------------------------------------------
# Logging / monitoreo
# ---------------------------------------------------------
LOG_LEVEL=info                                # debug | info | warning | error
SENTRY_DSN=                                   # opcional si usas Sentry